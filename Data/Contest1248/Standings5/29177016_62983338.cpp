#include <bits/stdc++.h>

using namespace std;

int main()
{
#ifdef LOCAL
	freopen("input.txt","rt",stdin);
#endif

	int t;
	long long a,b,tmp;
	cin>>t;
    while (t--)
    {
        long long odd1=0,even1=0,odd2=0,even2=0;
        cin>>a;
        for (int i=0;i<a;i++)
        {
            cin>>tmp;
            if (tmp&1)
                odd1++;
            else
                even1++;
        }
        cin>>b;
        for (int i=0;i<b;i++)
        {
            cin>>tmp;
            if (tmp&1)
                odd2++;
            else
                even2++;
        }
        long long ans;
        ans=odd1*odd2+even1*even2;
        cout<<ans<<endl;
    }

	return 0;
}

/*
          ____                    ____                    ____                    ____                    ____                    ____
         /\   \                  /\   \                  /\   \                  /\   \                  /\   \                  /\   \
        /::\___\                /::\   \                /::\   \                /::\   \                /::\   \                /::\___\
       /:::/   /               /::::\   \              /::::\   \              /::::\   \              /::::\   \              /:::/   /
      /:::/   /               /::::::\   \            /::::::\   \            /::::::\   \            /::::::\   \            /:::/   /
     /:::/   /               /:::/\:::\   \          /:::/\:::\   \          /:::/\:::\   \          /:::/\:::\   \          /:::/   /
    /:::/   /               /:::/  \:::\   \        /:::/  \:::\   \        /:::/  \:::\   \        /:::/  \:::\   \        /:::/   /
   /:::/   /               /:::/___/\:::\   \      /::::\   \:::\   \      /:::/___/\:::\   \       \:::\   \:::\   \      /:::/   /
  /:::/___/__________     /::::\   \ \:::\   \    /::::::\   \:::\   \    /::::\   \ \:::\   \    ___\:::\   \:::\   \    /:::/   /       ____
 /:::/|::::::::::\    \  /::::::\   \ \:::\   \  /:::/\:::\   \:::\___\  /::::::\   \ \:::\   \  /\   \:::\   \:::\   \  /:::/   /       /\   \
/:::/ |::::_______\____\/:::/\:::\   \ \:::\___\/:::/  \:::\   \::|    |/:::/\:::\   \ \:::\___\/::\   \:::\   \:::\___\/:::/___/       /::\___\
\::/  |:::|   |         \::/  \:::\   \/:::/   /\::/   |::::\  /::|____|\::/  \:::\   \/:::/   /\:::\   \:::\   \::/   /\:::\   \      /:::/   /
 \/___|:::|   |          \/___/\:::\  /:::/   /  \/___/|:::::\/:::/   /  \/___/\:::\  /:::/   /  \:::\   \:::\   \/___/  \:::\   \    /:::/   /
      |:::|   |                 \:::\/:::/   /         |:::::::::/   /          \:::\/:::/   /    \:::\   \:::\   \       \:::\   \  /:::/   /
      |:::|   |                  \::::::/   /          |::|\::::/   /            \::::::/   /      \:::\   \:::\___\       \:::\   \/:::/   /
      |:::|   |                   \::::/   /           |::| \::/   /              \::::/   /        \:::\  /:::/   /        \:::\  /:::/   /
      |:::|   |                   /:::/   /            |::|  \/___/               /:::/   /          \:::\/:::/   /          \:::\/:::/   /
      \:::|   |                  /:::/   /             |::|   |                  /:::/   /            \::::::/   /            \::::::/   /
       \::|   |                 /:::/   /              \::|   |                 /:::/   /              \::::/   /              \::::/   /
        \:|   |                 \::/   /                \:|   |                 \::/   /                \::/   /                \::/   /
         \|___|                  \/___/                  \|___|                  \/___/                  \/___/                  \/___/
*/
